/**
 * CSS Animations for the 2048 game
 * Includes animations for tile movement, appearance and merging
 */

@keyframes cell-move {
  0% {
    transform: translate(var(--from-x, 0), var(--from-y, 0));
    z-index: 2;
    box-shadow: 0 2px 12px #0006;
    filter: brightness(1.05);
  }
  25% {
    transform: translate(calc(var(--from-x, 0) * 0.75), calc(var(--from-y, 0) * 0.75));
    z-index: 2;
    box-shadow: 0 2px 10px #0005;
    filter: brightness(1.03);
  }
  65% {
    transform: translate(calc(var(--from-x, 0) * 0.2), calc(var(--from-y, 0) * 0.2));
    z-index: 2;
    box-shadow: 0 2px 8px #0004;
    filter: brightness(1.02);
  }
  85% {
    transform: translate(0, 0);
    z-index: 2;
    box-shadow: 0 2px 6px #0003;
    filter: brightness(1);
  }
  95% {
    transform: translate(0, 0) scale(1.02);
    z-index: 2;
    box-shadow: 0 2px 4px #0002;
  }
  100% {
    transform: translate(0, 0) scale(1);
    z-index: 1;
    box-shadow: none;
  }
}

@keyframes cell-appear {
  0% {
    transform: scale(0.1);
    opacity: 0;
    filter: blur(2px);
  }
  30% {
    transform: scale(0.7);
    opacity: 0.7;
    filter: blur(1px);
  }
  65% {
    transform: scale(1.12);
    opacity: 1;
    filter: blur(0);
  }
  85% {
    transform: scale(0.97);
    opacity: 1;
  }
  95% {
    transform: scale(1.03);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes cell-merge {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }
  20% {
    transform: scale(0.95);
    filter: brightness(1.05);
  }
  50% {
    transform: scale(1.2);
    filter: brightness(1.2);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
  }
  75% {
    transform: scale(0.98);
    filter: brightness(1.1);
    box-shadow: 0 0 12px rgba(255, 215, 0, 0.4);
  }
  90% {
    transform: scale(1.04);
    filter: brightness(1.05);
    box-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
  }
  100% {
    transform: scale(1);
    filter: brightness(1);
    box-shadow: none;
  }
}

.cell.move {
  animation: cell-move 0.9s cubic-bezier(0.25, 0.8, 0.25, 1) both;
  will-change: transform, filter, box-shadow;
}

.cell.new {
  animation: cell-appear 0.8s cubic-bezier(0.25, 0.8, 0.25, 1) both;
  will-change: transform, opacity, filter;
}

.cell.merge {
  animation: cell-merge 0.85s cubic-bezier(0.25, 0.8, 0.25, 1) both;
  will-change: transform, filter, box-shadow;
}
